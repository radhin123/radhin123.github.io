(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"41iV":function(e,t,a){e.exports={container:"forecast-module--container--3rNM_",controlPannel:"forecast-module--controlPannel--2TvxK",valueText:"forecast-module--valueText--q3Jin",controlToggleContainer:"forecast-module--controlToggleContainer--1cQF4",forecastBtn:"forecast-module--forecastBtn--3L43m",forecastTable:"forecast-module--forecastTable--3jONX",forecastTableSelect:"forecast-module--forecastTableSelect--tEiVD",forecastTableLastUpdateTime:"forecast-module--forecastTableLastUpdateTime--3VDUN"}},"q+9j":function(e,t,a){e.exports={container:"forecastTable-module--container--3AdpP",showColumn:"forecastTable-module--showColumn--1wAXt",table:"forecastTable-module--table--3ELuJ"}},ucX4:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("o8Rm"),l=a("o0o1"),c=a.n(l),u=(a("ls82"),a("HaE+")),s=a("tRbT"),i=a("ofer"),f=a("1AYd"),m=a("ADg1"),b=a("cVXz"),d=a("je4i"),p=a.n(d),T=a("tFdz"),C=(a("E9XD"),a("YMtY")),E=a("ZGBi"),A=a("VmPI"),L=a("kLkQ"),h=a("Nihg"),S=a("qnxO"),P=a("q+9j"),_=a.n(P),w=(a("jAbX"),function(e){var t=e.tableColList,a=e.data,o=Object(r.useRef)(Object.keys(t).reduce((function(e,a){return e[a]=t[a].show,e}),{})),l=function(){return(e=o.current,Object.keys(e).map((function(a){if("Symbol"===a)return Object(h.f)(a,t[a].text,110,e[a]);if("Close"===a||"PE"===a||"PB"===a)return Object(h.d)(a,t[a].text,110,2,e[a]);if(-1!=a.indexOf("Perf")||-1!=a.indexOf("FCST")){var r=120;return-1!=a.indexOf("FCST_")&&(r=140),Object(h.g)(a,t[a].text,r,e[a])}return"Dividend"===a||"High52"===a||"Low52"===a?Object(h.c)(a,t[a].text,110,e[a]):Object(h.b)(a,t[a].text,130,2,e[a])}))).reduce((function(e,t){return t.colShow&&e.push(t),e}),[]);var e},c=Object(r.useState)(l()),u=c[0],s=c[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:_.a.container},n.a.createElement("div",{className:_.a.showColumn},Object.keys(o.current).map((function(e){return function(e){return n.a.createElement(E.a,{key:e,control:n.a.createElement(A.a,{onChange:function(){o.current[e]=!o.current[e],s(l())},name:t[e].text,color:"primary",checked:o.current[e]}),label:n.a.createElement("div",null,t[e].text)})}(e)}))),n.a.createElement("div",{className:_.a.table},n.a.createElement(C.a,{rows:a,columns:u,scrollbarSize:17,pageSize:50,components:{noRowsOverlay:S.a},disableSelectionOnClick:!0}))))}),F=function(e){var t,a=e.tableColList,r=e.data;return n.a.createElement(w,{tableColList:a,data:(t=r,t.map((function(e,t){return e.id=t,Object.keys(e).forEach((function(t){e[t]="Market Cap"===t||"Avg Volume"===t?Object(L.a)(e[t]):Object(L.d)(e[t])})),e})))})},U=a("oqdv"),v=a("y4pv"),x=a.n(v),N=a("41iV"),g=a.n(N),M=function(){var e=Object(T.b)({cachePolicy:"no-cache"}),t=Object(T.b)({cachePolicy:"no-cache"}),a=function(){var e=Object(u.a)(c.a.mark((function e(t,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get(t);case 2:if(r=e.sent,!a.response.ok||!r){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o=function(r){Promise.all([a("/plugin-react/stock-data/stat.json",e),a("/plugin-react/forecast-data/"+r+".json",t)]).then((function(e){if(console.log(e),2==e.length&&null!==e[0]&&null!==e[1]){var t=e[1].update_time,a=e[1].data,r=Object.keys(a).map((function(t,r){var n=a[t],o=e[0][t],l={id:r,Symbol:t,Close:null!=o&&"-"!==o.Close?o.Close:-Number.MAX_VALUE,FCST:void 0!==n.FCST&&null!==n&&"-"!==n.FCST?n.FCST:-Number.MAX_VALUE,FCST_Upper30:void 0!==n.FCST_Upper30&&null!==n&&"-"!==n.FCST_Upper30?n.FCST_Upper30:-Number.MAX_VALUE,FCST_Lower30:void 0!==n.FCST_Lower30&&null!==n&&"-"!==n.FCST_Lower30?n.FCST_Lower30:-Number.MAX_VALUE,PE:null!=o&&"-"!==o["P/E"]?o["P/E"]:Number.MAX_VALUE,PB:null!=o&&"-"!==o["P/B"]?o["P/B"]:Number.MAX_VALUE,Dividend:null!=o&&"-"!==o["Dividend %"]?o["Dividend %"]:-Number.MAX_VALUE,High52:null!=o&&"-"!==o["52W High"]?o["52W High"]:-Number.MAX_VALUE,Low52:null!=o&&"-"!==o["52W Low"]?o["52W Low"]:-Number.MAX_VALUE,PerfWeek:null!=o&&"-"!==o["Perf Week"]?o["Perf Week"]:-Number.MAX_VALUE,PerfMonth:null!=o&&"-"!==o["Perf Month"]?o["Perf Month"]:-Number.MAX_VALUE,PerfQuarter:null!=o&&"-"!==o["Perf Quarter"]?o["Perf Quarter"]:-Number.MAX_VALUE,PerfHalfY:null!=o&&"-"!==o["Perf Half Y"]?o["Perf Half Y"]:-Number.MAX_VALUE,PerfYear:null!=o&&"-"!==o["Perf Year"]?o["Perf Year"]:-Number.MAX_VALUE,PerfYTD:null!=o&&"-"!==o["Perf YTD"]?o["Perf YTD"]:-Number.MAX_VALUE};return l.Close==-Number.MAX_VALUE?(l.FCST=-Number.MAX_VALUE,l.FCST_Upper30=-Number.MAX_VALUE,l.FCST_Lower30=-Number.MAX_VALUE):(l.FCST==-Number.MAX_VALUE?l.FCST=-Number.MAX_VALUE:l.FCST=(l.FCST-l.Close)/l.Close,l.FCST_Upper30==-Number.MAX_VALUE?l.FCST_Upper30=-Number.MAX_VALUE:l.FCST_Upper30=(l.FCST_Upper30-l.Close)/l.Close,l.FCST_Lower30==-Number.MAX_VALUE?l.FCST_Lower30=-Number.MAX_VALUE:l.FCST_Lower30=(l.FCST_Lower30-l.Close)/l.Close),l}));L("Last Update Time: "+new Date(t).toLocaleString("en-US")),C(n.a.createElement(F,{tableColList:{Symbol:{show:!0,text:"Symbol"},Close:{show:!0,text:"Price"},FCST:{show:!0,text:"FCST"},FCST_Upper30:{show:!0,text:"FCST_Upper30"},FCST_Lower30:{show:!0,text:"FCST_Lower30"},PE:{show:!0,text:"P/E"},PB:{show:!0,text:"P/B"},Dividend:{show:!0,text:"Dividend %"},High52:{show:!0,text:"52W High"},Low52:{show:!0,text:"52W Low"},PerfWeek:{show:!0,text:"Perf Week"},PerfMonth:{show:!0,text:"Perf Month"},PerfQuarter:{show:!0,text:"Perf Quarter"},PerfHalfY:{show:!0,text:"Perf Half Y"},PerfYear:{show:!0,text:"Perf Year"},PerfYTD:{show:!0,text:"Perf YTD"}},data:r}))}else alert("Get some data failed..."),console.error("refreshForecastData some data failed")})).catch((function(){alert("Get data failed..."),console.error("refreshForecastData failed")}))},l=Object(r.useState)(),d=l[0],C=l[1],E=Object(r.useState)("Last Update Time: None"),A=E[0],L=E[1],h=Object(r.useState)(0),S=h[0],P=h[1];return Object(r.useEffect)((function(){return o(U.c[0].name),function(){}}),[]),n.a.createElement("div",{className:x.a.defaultFont+" "+g.a.container},n.a.createElement("div",{key:p.a.generate(),className:g.a.forecastTable},n.a.createElement(s.a,{container:!0,spacing:3},n.a.createElement(s.a,{item:!0,xs:6},n.a.createElement(m.a,{size:"small",variant:"outlined",className:g.a.argNodesSelect},n.a.createElement(f.a,{htmlFor:"arg-select"},"Data-Algorithm-Features"),n.a.createElement(b.a,{native:!0,value:S,displayEmpty:!0,onChange:function(e){P(e.target.value),o(U.c[e.target.value].name)},label:"Data-Algorithm-Features"},U.c.map((function(e,t){return n.a.createElement("option",{key:p.a.generate(),index:t,value:t},e.display_name)}))))),n.a.createElement(s.a,{container:!0,item:!0,xs:6,justify:"flex-end"},n.a.createElement(i.a,{className:g.a.forecastTableLastUpdateTime,variant:"h6"},A))),d))};t.default=function(){return n.a.createElement(o.b,{injectFirst:!0},n.a.createElement(M,null))}}}]);
//# sourceMappingURL=component---src-pages-forecast-js-fbe1d5f775573f09c18f.js.map